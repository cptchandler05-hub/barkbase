~/workspace/animal-rescue-donations$ node scripts/test-rescuegroups-only.js
[dotenv@17.2.1] injecting env (0) from .env.local -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com
ğŸ• RESCUEGROUPS API TEST SUITE
ğŸ“‹ Testing with corrected API v5 field names and enhanced filters

ğŸ§ª TESTING RESCUEGROUPS API WITH CORRECTED FIELD NAMES
ğŸ¯ This uses the same corrected logic as the main sync script


ğŸ¯ Testing filter: default
ğŸ¦® Testing RescueGroups filter: default
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalUpdatedDate%5D=%3E2025-05-21&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with default filter (261 included items)
ğŸ” Sample dogs from default:
   1. Huey 1383 (ID: 21528707)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21528707
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. LENNON (ID: 21799725)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21799725
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. Daisy (aka Dukes) (ID: 21046647)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21046647
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "default": 50 dogs, 261 included items

ğŸ¯ Testing filter: recent
ğŸ¦® Testing RescueGroups filter: recent
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalUpdatedDate%5D=%3E2025-07-21&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with recent filter (277 included items)
ğŸ” Sample dogs from recent:
   1. CALIFORNIA (ID: 21344446)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21344446
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. WILSON (ID: 21790784)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21790784
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. Jack (ID: 21740113)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21740113
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "recent": 50 dogs, 277 included items

ğŸ¯ Testing filter: large_dogs
ğŸ¦® Testing RescueGroups filter: large_dogs
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalSizes%5D=Large&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with large_dogs filter (278 included items)
ğŸ” Sample dogs from large_dogs:
   1. HOPPER (ID: 17818071)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=17818071
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. Pabu (ID: 21444242)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21444242
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. SMOKEY (ID: 21718106)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21718106
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "large_dogs": 50 dogs, 278 included items

ğŸ¯ Testing filter: small_dogs
ğŸ¦® Testing RescueGroups filter: small_dogs
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalSizes%5D=Small&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with small_dogs filter (276 included items)
ğŸ” Sample dogs from small_dogs:
   1. Phoenix * (ID: 21571579)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21571579
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. Daphne (ID: 21441055)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21441055
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. Ty (ID: 20583073)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=20583073
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "small_dogs": 50 dogs, 276 included items

ğŸ¯ Testing filter: seniors
ğŸ¦® Testing RescueGroups filter: seniors
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalGeneralAge%5D=Senior&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with seniors filter (305 included items)
ğŸ” Sample dogs from seniors:
   1. TOBY (ID: 21248705)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21248705
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. Chicken Nugget (ID: 21086939)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21086939
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. Bob Jr. (ID: 21118890)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21118890
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "seniors": 50 dogs, 305 included items

ğŸ¯ Testing filter: special_needs
ğŸ¦® Testing RescueGroups filter: special_needs
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalSpecialneeds%5D=true&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with special_needs filter (265 included items)
ğŸ” Sample dogs from special_needs:
   1. PAULA (ID: 21648348)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21648348
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. CHARLOTTE (ID: 21477745)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21477745
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. FINNICK (ID: 21645950)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21645950
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "special_needs": 50 dogs, 265 included items

ğŸ¯ Testing filter: puppies
ğŸ¦® Testing RescueGroups filter: puppies
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalGeneralAge%5D=Baby&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with puppies filter (275 included items)
ğŸ” Sample dogs from puppies:
   1. 58924188 (ID: 21707778)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21707778
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. Belle Ami (ID: 21264104)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21264104
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. CINNAMON (ID: 21464152)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21464152
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "puppies": 50 dogs, 275 included items

ğŸ¯ Testing filter: mixed_breeds
ğŸ¦® Testing RescueGroups filter: mixed_breeds
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BanimalBreedMixed%5D=true&limit=50&sort=random&fields%5Banimals%5D=id%2Cname%2CanimalGeneralAge%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalBreedMixed%2CanimalDescriptionHtml%2CanimalDescriptionText%2CanimalEnergyLevel%2CanimalActivityLevel%2CanimalCreatedDate%2CanimalUpdatedDate%2CanimalSex%2CanimalHousetrained%2CanimalSpecialneeds%2CanimalAdoptionFee%2CanimalAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with mixed_breeds filter (244 included items)
ğŸ” Sample dogs from mixed_breeds:
   1. EMILY (ID: 21745549)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21745549
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   2. Buddy (ID: 18423476)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=18423476
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
   3. ZEUS (ID: 21495247)
      Size: Unknown, Age: Unknown
      Special Needs: false, Mixed: false
      Breed: Unknown, Updated: undefined
      ğŸ“¸ Pictures: 0 found
      ğŸ”— Profile URL: https://www.rescuegroups.org/animals/detail?AnimalID=21495247
      ğŸ“ Description: None (HTML: None)
      Raw attrs keys: id, name
âœ… Filter "mixed_breeds": 50 dogs, 244 included items

ğŸ“Š RESCUEGROUPS TEST RESULTS:
   API requests made: 8
   Total dog instances: 400
   Unique dogs: 397
   Duplicates removed: 3
   Duplication rate: 0.8%

ğŸ† DATA QUALITY ANALYSIS:
   Dogs with photos: 0/397 (0.0%)
   Dogs with descriptions: 0/397 (0.0%)

ğŸ”§ FIELD VERIFICATION:
   ğŸ“‹ Available attribute keys: id, name
   âœ… animalGeneralAge: N/A
   âœ… animalSizes: N/A
   âœ… animalSpecialneeds: N/A
   âœ… animalBreedPrimary: N/A
   âœ… animalBreedMixed: N/A
   ğŸ” Sample raw animal structure: {
  "type": "animals",
  "id": "21528707",
  "attributes": {
    "id": "21528707",
    "name": "Huey 1383"
  },
  "relationships": {
    "orgs": {
      "data": [
        {
          "type": "orgs",
          "id": "4104"
        }
      ]
    },
    "locations": {
      "data": [
        {
          "type": "locations",
          "id": "1000004104"
        }
      ]
    },
    "breeds": {
      "data": [
        {
          "type": "breeds",
          "id": "145"
        },
        {
          "type": "breeds",
          "id": "183"
        }
      ]
    },
    "pictures": {
      "data": [
        {
          "type": "pictures",
          "id": "101266680"
        }
      ]
    }
  }
}

âœ… SUCCESS: RescueGroups API test completed successfully!
ğŸ¯ The corrected field names are working properly
ğŸ¦® Ready for production sync with enhanced diversity filters

ğŸ—„ï¸ TESTING DATABASE INTEGRATION
âœ… Database connection successful

ğŸ‰ All tests completed!