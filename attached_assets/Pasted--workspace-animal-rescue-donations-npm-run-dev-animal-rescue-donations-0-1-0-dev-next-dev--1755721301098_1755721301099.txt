~/workspace/animal-rescue-donations$ npm run dev

> animal-rescue-donations@0.1.0 dev
> next dev

  â–² Next.js 14.2.28
  - Local:        http://localhost:3000
  - Environments: .env

 âœ“ Starting...
 âœ“ Ready in 1613ms
 â—‹ Compiling /_not-found ...
 âœ“ Compiled / in 17.8s (8589 modules)
 GET / 200 in 17224ms
 GET /.well-known/farcaster.json 404 in 18593ms
 HEAD / 200 in 27ms
 GET /.well-known/farcaster.json 404 in 20ms
 GET /.well-known/farcaster.json 404 in 16ms
 â—‹ Compiling /api/chat ...
 âœ“ Compiled /api/chat in 1417ms (4638 modules)
[ğŸ§  AI Intent] AI detected general question, switching modes
[ğŸ§  Barkr] Final context: general
[ğŸ§  GPT Parser] No clear breed or location found in: how are you
[âš ï¸ Barkr] Invalid breed in memory, wiping: null
[âš ï¸ Barkr] Invalid location in memory, wiping: null
[ğŸ§  Final Decision] aiIntent: general, context: general, isAdoptionMode: false
 POST /api/chat 200 in 5523ms
[ğŸ§  AI Intent] AI detected adoption intent, staying in adoption mode
[ğŸ§  Barkr] Final context: adoption
[ğŸ”· Barkr] New breed provided, wiping previous: null
[ğŸ§  Final Decision] aiIntent: adoption, context: adoption, isAdoptionMode: true
[ğŸ§¼ Final Cleaned Location] Houston, TX
[ğŸ“ Normalized Location] Houston, TX
[ğŸ¾ Barkr Memory] {
  location: 'Houston, TX',
  breed: 'labs',
  hasSeenResults: false,
  seenDogIds: [],
  cachedDogs: [],
  isAdoptionMode: true,
  isInvisibleDogsSearch: false
}
[ğŸ” Petfinder Params] { location: 'Houston, TX', breed: 'labs' }
[ğŸ§  Breed Normalization] Input: labs â†’ Cleaned: Lab
[âœ… Fallback Breed Match] "Lab" â†’ "Labrador Retriever"
[âœ… Breed Match Success] Matched to: Labrador Retriever
[ğŸ—„ï¸ Database] Searching database first...
[ğŸ—„ï¸ Database] Filtering by breed: Labrador Retriever
[ğŸ—„ï¸ Database] Filtering by location: Houston, TX
[ğŸ—„ï¸ Database] Filtering by state: TX
[ğŸ” Petfinder] Database returned only 0 dogs, searching Petfinder for additional...
 â—‹ Compiling /api/petfinder/search ...
 âœ“ Compiled /api/petfinder/search in 855ms (4643 modules)
[ğŸ” Enhanced Search] Starting Database â†’ Petfinder search waterfall
[ğŸ“‹ Raw Input] {
  location: 'Houston, TX',
  breed: 'Labrador Retriever',
  age: null,
  size: null,
  gender: null,
  limit: 25,
  isChat: true
}
[ğŸ¯ Context] Chat search - limit: 25
[ğŸ§¼ Normalized Params] {
  location: 'Houston, TX',
  breed: 'Labrador Retriever',
  limit: 25,
  radius: 100
}
[ğŸ’¾ Database] Searching database first...
Searching for dogs with location: Houston, TX, breed: Labrador Retriever, limit: 50
Found 0 dogs matching search criteria
[ğŸ¾ Petfinder] Falling back to Petfinder API...
[ğŸ“Š Current Results] 0 dogs found so far, need 25 more
[ğŸ”„ Rate Limit] Reset rate limit window
[ğŸ« Token Manager] Fetching new Petfinder access token...
[âœ… Token Manager] Got new Petfinder token, expires in 3600 seconds
[âœ… Fallback Breed Match] "Labrador Retriever" â†’ "Labrador Retriever"
[ğŸ“¡ Petfinder] Fetching: https://api.petfinder.com/v2/animals?type=dog&status=adoptable&limit=25&location=Houston%2C+TX&distance=100&breed=Labrador+Retriever
[âœ… Petfinder Hit] Found 25 dogs from Petfinder
[ğŸ”„ Deduplication] 0 duplicates removed from Petfinder
[âœ… Search Complete] Found 25 total dogs from sources: petfinder
[ğŸ“Š Source Breakdown] petfinder: 25
 POST /api/petfinder/search 200 in 2641ms
[âœ… Chat Search Success] Found 25 dogs for labs in Houston, TX from sources: petfinder
[âœ… Petfinder Integration] Found 25 Petfinder dogs, 0 were duplicates of database dogs
[âœ… Search Complete] Total unique dogs: 25 Showing: 10
[âœ… Search Complete] Total unique dogs: 25 Showing: 10
[ğŸ“Š Scores] Sample scores: [ 'Lexi: 112.1', 'Sebastian: 111.9', 'Lasso: 111.5' ]
 POST /api/chat 200 in 4888ms
 â—‹ Compiling /adopt/[dogId] ...
 âœ“ Compiled /adopt/[dogId] in 1114ms (8823 modules)
 GET /adopt/77878187 200 in 2024ms
 HEAD /adopt/77878187 200 in 37ms
 âœ“ Compiled /api/dog/[dogId] in 489ms (4649 modules)
[ğŸ” Dog Lookup] Starting search for dogId: 77878187
[ğŸ’¾ Database] Searching database first...
Searching for dog with petfinder_id: 77878187
No dog found with petfinder_id: 77878187
[ğŸ’¾ Database] Not found by direct or legacy petfinder_id, trying rescuegroups_id...
[ğŸ’¾ Database] Trying petfinder_id as number...
[ğŸ’¾ Database] Trying petfinder_id as integer string...
[ğŸ¾ Petfinder] Searching Petfinder API...
[ğŸ« Token Manager] Fetching new Petfinder access token...
[âœ… Token Manager] Got new Petfinder token, expires in 3600 seconds
[âš ï¸ Petfinder API Error] 401 {"type":"https://httpstatus.es/401", "status":401, "title":"Unauthorized", "detail":"Access token invalid or expired"}
[âŒ Not Found] Dog with ID 77878187 not found in any source
 GET /api/dog/77878187 404 in 2932ms
[ğŸ” Dog Lookup] Starting search for dogId: 77878187
[ğŸ’¾ Database] Searching database first...
Searching for dog with petfinder_id: 77878187
No dog found with petfinder_id: 77878187
[ğŸ’¾ Database] Not found by direct or legacy petfinder_id, trying rescuegroups_id...
[ğŸ’¾ Database] Trying petfinder_id as number...
[ğŸ’¾ Database] Trying petfinder_id as integer string...
[ğŸ¾ Petfinder] Searching Petfinder API...
[ğŸ« Token Manager] Using cached token
[âš ï¸ Petfinder API Error] 401 {"type":"https://httpstatus.es/401", "status":401, "title":"Unauthorized", "detail":"Access token invalid or expired"}
[âŒ Not Found] Dog with ID 77878187 not found in any source
 GET /api/dog/77878187 404 in 1332ms