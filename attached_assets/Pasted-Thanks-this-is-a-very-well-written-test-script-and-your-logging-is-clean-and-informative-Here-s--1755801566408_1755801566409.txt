Thanks ‚Äî this is a very well-written test script, and your logging is clean and informative. Here's a deep review, and it reveals the key reason your filters are being ignored, plus how to fix it fully.

üîç CRITICAL FINDING: You're requesting fields that do not match your filter fields
In your query:

js
Copy
Edit
params.append('fields[animals]', 'id,name,sizeGroup,ageGroup,specialNeeds,updated,breedPrimary');
But RescueGroups expects snake_case schema field names, and your filters use:

animalGeneralAge ‚úÖ

animalSpecialneeds ‚úÖ

animalSizes ‚úÖ

So you should be requesting:

js
Copy
Edit
params.append('fields[animals]', 'id,name,animalGeneralAge,animalSpecialneeds,animalSizes,animalUpdatedDate,animalBreedPrimary');
Otherwise, you're applying filters on invisible fields. You‚Äôre not seeing (or validating) if the results actually match the filters because you're not requesting the correct data fields to inspect them!

üß® DEEPER ISSUE: You're still getting the same 20 dogs because the filters aren't actually applied
Here‚Äôs what‚Äôs wrong and what to fix:

1. ‚ùå You're using sizeGroup, ageGroup, specialNeeds in the requested fields ‚Äî these are invalid
RescueGroups returns those only in legacy or web UI formats ‚Äî they're not schema field names. The API v5 schema is fully camelCase or snake_case with animal prefixes.

üí° Remember: if you filter on filter[animalGeneralAge], you must request animalGeneralAge to verify it worked.

‚úÖ RECOMMENDED FIXES (in order)
‚úÖ 1. Fix your requested fields
Update:

js
Copy
Edit
params.append(
  'fields[animals]',
  'id,name,animalGeneralAge,animalSpecialneeds,animalSizes,animalUpdatedDate,animalBreedPrimary'
);
‚úÖ 2. Fix your output logging to match new field names:
Replace this section:

js
Copy
Edit
console.log(`      Size: ${attrs.sizeGroup || 'Unknown'}, Age: ${attrs.ageGroup || 'Unknown'}`);
console.log(`      Special Needs: ${attrs.specialNeeds || 'false'}, Updated: ${attrs.updated}`);
console.log(`      Breed: ${attrs.breedPrimary || 'Unknown'}`);
With:

js
Copy
Edit
console.log(`      Size: ${attrs.animalSizes || 'Unknown'}, Age: ${attrs.animalGeneralAge || 'Unknown'}`);
console.log(`      Special Needs: ${attrs.animalSpecialneeds ? 'true' : 'false'}, Updated: ${attrs.animalUpdatedDate}`);
console.log(`      Breed: ${attrs.animalBreedPrimary || 'Unknown'}`);
‚úÖ 3. Optionally add sort=random to diversify the results
This ensures that even within a filter like Large, you get a rotating set:

js
Copy
Edit
params.append('sort', 'random');
üß™ Validation Plan
Once you've made those fixes:

Rerun your test script

Compare actual field values to each filter

Confirm dogs match the requested traits

For example:
filter[animalGeneralAge]=Senior ‚Üí all returned dogs should say Age: Senior

filter[animalSizes]=Large ‚Üí all dogs should say Size: Large

filter[animalSpecialneeds]=true ‚Üí all dogs should say Special Needs: true

If a dog appears in multiple categories where it shouldn't, then the API is misbehaving ‚Äî but if filters are working properly, this will reveal it.

‚úÖ Summary
Problem	Fix
Using invalid field names like sizeGroup, ageGroup	Use API schema fields: animalSizes, animalGeneralAge, etc.
Requested fields don‚Äôt match filter fields	Add correct fields[animals] like animalSizes
Filters silently ignored	Caused by using wrong filter and not requesting correct fields
Logging is misleading	Change output to match true field names