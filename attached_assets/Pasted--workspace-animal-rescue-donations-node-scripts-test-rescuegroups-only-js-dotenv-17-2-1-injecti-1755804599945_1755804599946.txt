~/workspace/animal-rescue-donations$ node scripts/test-rescuegroups-only.js
[dotenv@17.2.1] injecting env (0) from .env.local -- tip: âš™ï¸  override existing env vars with { override: true }
ğŸ• RESCUEGROUPS API TEST SUITE
ğŸ“‹ Testing with corrected API v5 field names and enhanced filters

ğŸ§ª TESTING RESCUEGROUPS API WITH CORRECTED FIELD NAMES
ğŸ¯ This uses the same corrected logic as the main sync script


ğŸ¯ Testing filter: default
ğŸ¦® Testing RescueGroups filter: default
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BupdatedDate%5D=%3E2025-05-21&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with default filter (479 included items)
ğŸ” Sample dogs from default:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "default": 50 dogs, 479 included items

ğŸ¯ Testing filter: recent
ğŸ¦® Testing RescueGroups filter: recent
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BupdatedDate%5D=%3E2025-07-21&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with recent filter (479 included items)
ğŸ” Sample dogs from recent:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "recent": 50 dogs, 479 included items

ğŸ¯ Testing filter: large_dogs
ğŸ¦® Testing RescueGroups filter: large_dogs
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BsizeGroup%5D=Large&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with large_dogs filter (479 included items)
ğŸ” Sample dogs from large_dogs:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "large_dogs": 50 dogs, 479 included items

ğŸ¯ Testing filter: small_dogs
ğŸ¦® Testing RescueGroups filter: small_dogs
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BsizeGroup%5D=Small&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with small_dogs filter (479 included items)
ğŸ” Sample dogs from small_dogs:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "small_dogs": 50 dogs, 479 included items

ğŸ¯ Testing filter: seniors
ğŸ¦® Testing RescueGroups filter: seniors
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BageGroup%5D=Senior&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with seniors filter (479 included items)
ğŸ” Sample dogs from seniors:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "seniors": 50 dogs, 479 included items

ğŸ¯ Testing filter: special_needs
ğŸ¦® Testing RescueGroups filter: special_needs
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5Bqualities%5D=specialNeeds&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with special_needs filter (479 included items)
ğŸ” Sample dogs from special_needs:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "special_needs": 50 dogs, 479 included items

ğŸ¯ Testing filter: puppies
ğŸ¦® Testing RescueGroups filter: puppies
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BageGroup%5D=Baby&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with puppies filter (479 included items)
ğŸ” Sample dogs from puppies:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "puppies": 50 dogs, 479 included items

ğŸ¯ Testing filter: mixed_breeds
ğŸ¦® Testing RescueGroups filter: mixed_breeds
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5Bspecies%5D=Dog&filter%5Bstatus%5D=Available&filter%5BisBreedMixed%5D=true&limit=50&fields%5Banimals%5D=id%2Cname%2CageGroup%2CsizeGroup%2CbreedPrimary%2CbreedSecondary%2CisBreedMixed%2CdescriptionText%2CdescriptionHtml%2CenergyLevel%2CactivityLevel%2CpictureCount%2CpictureThumbnailUrl%2Curl%2CcreatedDate%2CupdatedDate%2Csex%2CisHousetrained%2Cqualities%2CadoptionFeeString%2CisAdoptionPending&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 50 RescueGroups dogs with mixed_breeds filter (479 included items)
ğŸ” Sample dogs from mixed_breeds:
   1. Hannah Steele (ID: 10072481)
      Size: Medium, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Labrador Retriever, Updated: 2025-01-23T00:46:15Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   2. Doli (ID: 10131543)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Husky, Updated: 2025-04-30T18:08:23Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
   3. Cylana (ID: 10138270)
      Size: Large, Age: Senior
      Special Needs: false, Mixed: true
      Breed: Shar Pei, Updated: 2025-07-16T01:56:22Z
      Raw attrs keys: id, name, ageGroup, sizeGroup, breedPrimary
âœ… Filter "mixed_breeds": 50 dogs, 479 included items

ğŸ“Š RESCUEGROUPS TEST RESULTS:
   API requests made: 8
   Total dog instances: 400
   Unique dogs: 50
   Duplicates removed: 350
   Duplication rate: 87.5%

ğŸ† DATA QUALITY ANALYSIS:
   Dogs with photos: 0/50 (0.0%)
   Dogs with descriptions: 0/50 (0.0%)

ğŸ”§ FIELD VERIFICATION:
   ğŸ“‹ Available attribute keys: id, name, ageGroup, sizeGroup, breedPrimary, breedSecondary, isBreedMixed, descriptionText, descriptionHtml, energyLevel, activityLevel, pictureCount, pictureThumbnailUrl, url, createdDate, updatedDate, sex, isHousetrained, qualities, adoptionFeeString, isAdoptionPending
   âœ… ageGroup: Senior
   âœ… sizeGroup: Medium
   âœ… qualities: affectionate,cratetrained,eagerToPlease,gentle,goofy,lap,leashtrained,needsCompanionAnimal,olderKidsOnly,playful,playsToys,timid
   âœ… breedPrimary: Labrador Retriever
   âœ… isBreedMixed: true
   ğŸ” Sample raw animal structure: {
  "type": "animals",
  "id": "10072481",
  "attributes": {
    "id": "10072481",
    "name": "Hannah Steele",
    "ageGroup": "Senior",
    "sizeGroup": "Medium",
    "breedPrimary": "Labrador Retriever",
    "breedSecondary": "Hound",
    "isBreedMixed": true,
    "descriptionText": "After being on the run for 6&nbsp;months&nbsp;- Hannah was trapped by our wonderful Hound Hunter Team, and&nbsp;is now ready for a home of her own!&nbsp;\n\nShe is currently in a foster home learning&nbsp;what it

âœ… SUCCESS: RescueGroups API test completed successfully!
ğŸ¯ The corrected field names are working properly
ğŸ¦® Ready for production sync with enhanced diversity filters

ğŸ—„ï¸ TESTING DATABASE INTEGRATION
âœ… Database connection successful

ğŸ‰ All tests completed!