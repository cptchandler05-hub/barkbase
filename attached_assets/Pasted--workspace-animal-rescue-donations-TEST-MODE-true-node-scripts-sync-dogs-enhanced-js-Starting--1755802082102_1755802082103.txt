~/workspace/animal-rescue-donations$ TEST_MODE=true node scripts/sync-dogs-enhanced.js
ğŸ• Starting enhanced dog sync with RescueGroups + Petfinder...
ğŸ§ª RUNNING IN TEST MODE - Limited API calls
ğŸ¦® RescueGroups will use volume-based diversity filters (no location calls)
ğŸ” Petfinder will search: Austin, TX (urban)
ğŸ¦® Phase 1: RescueGroups Sync (High-Volume Diverse Dog Rescue)
ğŸ¯ Fetching recent dogs from RescueGroups (100 target)...
ğŸ¦® Fetching RescueGroups dogs with filter: recent (limit: 100)
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5BanimalSpecies%5D=Dog&filter%5BanimalStatus%5D=Available&filter%5BanimalUpdatedDate%5D=%3E2025-07-21&limit=100&fields%5Banimals%5D=id%2Cname%2CanimalStatus%2CanimalSpecies%2CanimalGeneralAge%2CanimalSex%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalMixed%2CanimalDescription%2CanimalSpecialneeds%2CanimalAttributes%2CanimalPictures%2CanimalThumbnailUrl%2CanimalUrl%2CanimalDistance%2CanimalUpdatedDate%2CanimalCreatedDate&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 100 RescueGroups dogs with recent filter (786 included items)
ğŸ” First dog: Hannah Steele (ID: 10072481)
ğŸ” Filter type: recent
ğŸ“„ Page 1: Got 100 recent dogs (total: 100)
âœ… Total recent dogs: 100
ğŸ¯ Fetching large_dogs dogs from RescueGroups (100 target)...
ğŸ¦® Fetching RescueGroups dogs with filter: large_dogs (limit: 100)
ğŸ”— RescueGroups API URL: https://api.rescuegroups.org/v5/public/animals/search/available/dogs?filter%5BanimalSpecies%5D=Dog&filter%5BanimalStatus%5D=Available&filter%5BanimalSizes%5D=Large&limit=100&fields%5Banimals%5D=id%2Cname%2CanimalStatus%2CanimalSpecies%2CanimalGeneralAge%2CanimalSex%2CanimalSizes%2CanimalBreedPrimary%2CanimalBreedSecondary%2CanimalMixed%2CanimalDescription%2CanimalSpecialneeds%2CanimalAttributes%2CanimalPictures%2CanimalThumbnailUrl%2CanimalUrl%2CanimalDistance%2CanimalUpdatedDate%2CanimalCreatedDate&include=orgs%2Clocations%2Cbreeds%2Cpictures
ğŸ“‹ Found 100 RescueGroups dogs with large_dogs filter (786 included items)
ğŸ” First dog: Hannah Steele (ID: 10072481)
ğŸ” Filter type: large_dogs
ğŸ“„ Page 1: Got 100 large_dogs dogs (total: 100)
âœ… Total large_dogs dogs: 100
ğŸ“Š RescueGroups Volume Results:
   Raw dogs fetched: 200
   Filters used: 2
   Avg dogs per filter: 100
ğŸ” Duplication analysis: 100 dogs appeared multiple times
ğŸ¯ Final unique RescueGroups dogs: 100
ğŸ“ Syncing 100 rescuegroups dogs to database...
âœ… rescuegroups sync completed: 0 added, 100 updated
ğŸ” Phase 2: Petfinder Sync (Metropolitan Urban Rescue)
ğŸ”‘ Fetching new Petfinder access token...
âœ… Got new Petfinder token
ğŸ” Fetching Petfinder dogs from: Austin, TX (limit: 5)
ğŸ“‹ Found 5 Petfinder dogs from Austin, TX
ğŸ¯ Found 5 unique Petfinder dogs
âœ… After cross-API deduplication: 5 Petfinder dogs (0 duplicates removed)
ğŸ“ Syncing 5 petfinder dogs to database...
âœ… petfinder sync completed: 1 added, 4 updated
ğŸ§¹ Marking old dogs as removed...
ğŸ§¹ Marked 0 old dogs as removed
âœ… Enhanced dog sync completed successfully!